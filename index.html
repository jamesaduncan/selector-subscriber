<!DOCTYPE html>
<html lang="en">
<head>
    <title>Selector Subscriber test</title>
</head>
<body>
    <h1>Click the button</h1>
    <button>Button</button>
    <script type="module">
        import registerSelector from "https://jamesaduncan.github.io/selector-subscriber/index.mjs";

        let count = 1;
        registerSelector("button", ( aButton ) => {
            console.log("adding event listener to new button element");
            aButton.addEventListener('click', () => {
                const button = document.createElement('button');
                button.innerHTML = `Button ${count++}`
                aButton.after( button );
            });
        })
    </script>
</body>
</html>
